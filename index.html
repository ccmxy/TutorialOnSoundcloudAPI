<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>AnimateScroll Demo</title>
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<meta name="author" content="Colleen Minor" />
                <link rel="stylesheet" type="text/css" href="custom.css" />
								<link rel="stylesheet" type="text/css" href="styles.css" />
                <script src="jquery-1.8.3.min.js"></script>
                <script src="animatescroll.js"></script>
	</head>
	<body>
		<div class="container">

			<header>
				<h1 class="title"> SoundCloud AuthFlo API Tutorial
					<span>A Tutorial on How to use SoundCloud's client-side auth flo to authenticate users with one click.</span>
				  <span>By Colleen Minor </span></h1>
			</header>
				<nav id="menu" class="nav">
					<ul>
				<hx>Table of Contents</hx>
						<li>
							<a href="#" onclick="$('#section-2').animatescroll();">
								<span class="icon">
									<i aria-hidden="true" class="icon-services"></i>
								</span>
								<span>What is an API?</span>
							</a>
						</li>
						<li>
							<a href="#" onclick="$('#section-3').animatescroll();">
								<span class="icon">
									<i aria-hidden="true" class="icon-portfolio"></i>
								</span>
								<span>Getting Started</span>
							</a>
						</li>
						<li>
							<a href="#" onclick="$('#section-4').animatescroll();">
								<span class="icon">
									<i aria-hidden="true" class="icon-blog"></i>
								</span>
								<span>Registering App for SoundCloud Authentication</span>
							</a>
						</li>
						<li>
							<a href="#" onclick="$('#section-5').animatescroll();">
								<span class="icon">
									<i aria-hidden="true" class="icon-team"></i>
								</span>
								<span>Hosting the Website</span>
							</a>
						</li>
						<li>
							<a href="#" onclick="$('#section-6').animatescroll();">
								<span class="icon">
									<i aria-hidden="true" class="icon-contact"></i>
								</span>
								<span>Creating the Redirect URI</span>
							</a>
						</li>
						<li>
							<a href="#" onclick="$('#section-7').animatescroll();">
								<span class="icon">
									<i aria-hidden="true" class="icon-contact"></i>
								</span>
								<span>Adding the Javascript</span>
							</a>
						</li>
					</ul>
				</nav>
		</div>
		<br><br>

                <div class="main clearfix">
                        <div id="section-2">
                            <div class="content-wrapper w70">
                                <h1>What is an API, exactly?</h1>
                                <p>Before we delve into <a href=https://developers.soundcloud.com/>developers.soundcloud.com</a>, let's discuss what <strong>API</strong> means.</p>

                                <p>API stands for <strong>Application Protocol Interface.</strong>
																	To put it simply, when you're talking about an API, you're talking about a set of tools that you can use to request different services that can help you create software or web applications. </p>
																	<p> A metaphor based in real-life might be operating a car.
																		 You know that behind the dashobard are a set of tools that you can use to request different services from your car, like "turn on blinker" or "switch to a higher gear."
																		 You don't need to know the ins-and-outs of how a car works to use these tools, <strong>you just need to know how to use them.</strong>
																</p>
																<br><br><button class="btn" onclick="$('#section-3').animatescroll({scrollSpeed:3000,easing:'easeInOutBounce'});">Next: Getting Started</button><br/><br/>
                            </div>
                        </div>

                        <div id="section-3">
                            <div class="content-wrapper w70">
															<h1>Getting Started</h1>

															 Today we are going to be using SoundCloud's client-side auth flow, an authentication method from <a href="https://developers.soundcloud.com/">the official SoundCloud API</a> which has multiple potential purposes.
															 If we were doing server-side development and wanted to recognize our users, we might use SoundCloud as for our sign-in and registration process.
															 What is especially useful about this method is that users can also sign in to SoundCloud through Facebook or Google+, which creates a seamless one-click sign-in for our app.

															 <br><br>It also allows us to act on the user's behalf regaurding their SoundCloud account (uploading sounds, for example).

															 <br><br>Our app also gains access to things the user has set to private: when the user decides to approve our app's authorization request, our app will be able to access their profile and any private
															 sounds that they have created or have had shared with them.

                                <p>We're going to do three things in order to make this happen: </p>
                                <ul>
                                    <li><strong>Create</strong> a live Javascript application</li>
                                    <li><strong>Register</strong> our application with SoundCloud</li>
                                    <li><strong>Securely access</strong> the accounts of SoundCloud users at their wishes</li>
                                </ul>

                                <p> To begin, you will need to create an html file. Create a folder somewhere that you can remember, like your desktop,
																	and create a file called <strong>index.html</strong>.</p>
                                <div>
                                  	We'll use a very basic skeleton:<br/>
                                    <div class="element-demo">
																			<p>
																				<xmp><!DOCTYPE html></xmp>
																				<xmp>	<html>	</xmp>
																				<xmp>	<head>	</xmp>
																					<xmp> <meta charset="UTF-8">	</xmp>
																					<xmp>	<title>SoundCloudAuth</title> </xmp>
																					<xmp>	</head>	</xmp>
																					<xmp>	<body>	</xmp>
																					<xmp>	  <h3>Sound Cloud Api Example</h3>	</xmp>
																					<xmp>	</body>	</xmp>
																					<xmp>	</html>	</xmp>
																					<xmp>	</xmp></xmp>
																			</p>
                                    </div>
                                </div>
                                Copy or copy/paste the above template into index.html.<br/>

																<br>If you click on the file from within your OS's file browser, it should open this simple webpage up in your browser:

																<br><img class="small" src="img/basicWebPage.png">

																<br>Eventually we will get simple webpage this up online. But first we will get started with the SoundCloud API.
															<br><br><button class="btn" onclick="$('#section-4').animatescroll({scrollSpeed:3000,easing:'easeOutElastic'});">Next: Registering our App</button><br/><br/>
                            </div>
                        </div>

                        <div id="section-4">
                            <div class="content-wrapper w70">
                                <h1>Registering our App for Authentication</h1>

																We talked about how if our app is allowed to access the users' SoundCloud account, it may view
																things that they have marked private, as well as act on their behalf.

																<br><br>In order for our app to gain permission from SoundCloud to do this, we must register our app.
																Go to <a href=http://soundcloud.com/you/apps> http://soundcloud.com/you/apps </a>:
																<img class="small" src="img/register-app.png">
																<br><br>You will need to either sign into or create a SoundCloud account. Now click "register application." You will be taken to this page:<br>

																<img class="small" src="img/registerAppBar.png">

																<br>Choose a name, check the Developer Policies box, and hit "Register" We'll call ours "SoundCloudAPIExample."
																<br><br>Now we'll hit a roadblock.<br>
																<img class="small" src="img/register-app-creds.png">

																<br>Notice the empty input boxes labeled "Website for your app" and "Redirect URI for Authorization."
																 We will need to be able to access our index file on a server, which we will point the box "website of your app" to, and we will need
																 to <strong>host a callback file on that same server</strong> which we set <code>redirect_uri</code> to.
                                                                 
                                                                 <br><br>Upon a successful connection, this file will be used to <strong>send an authentication token back to our application</strong>, allowing the host app to access account privilages for a specific user. For security reasons, SoundCloud will only redirect users to URIs which are hosted <strong>on the same domain as the host app.</strong> Therefore, we will have to add in another file later. But we'll worry about that then.

																 <br><br><button class="btn" onclick="$('#section-5').animatescroll({scrollSpeed:2000,easing:'easeOutBounce'});">Next: Hosting our Website</button><br/><br/>

                            </div>
                        </div>

                        <div id="section-5"  onclick="$('#section-6').animatescroll({scrollSpeed:3000,padding:-30,easing:'easeInOutBack'});">
                            <div class="content-wrapper w70">
                                <h1>Hosting our Website</h1>
																<p>For this demo, we're going to use <strong>Amazon Web Services</strong> to host our website. Specifically, we are going to use Amazon Simple Service storage.
																With Simple Service Storage, Inbound Data Transfer is free and outbound data transfer is free for 1 GB per region per month. Luckily this website will be small and not many will be using it
																so I don't think we will get charged.  </p>

																	<p> To start, we're going to assume that you already have an Amazon Web Services account.
																	To host a simple website with javascript and html, simply go to the <a href="https://us-west-2.console.aws.amazon.com/console/">AWS Management Console</a>
																and click on "S3". </p>

																<img class="small" src="img/AWSS3.png">

																<p>Then click "Create a bucket." You should be see something like this: </p>
																<img class="small" src="img/createSite/1-Create_bucket.png">
																<p>Choose a name and a region and click "create." </p>

																<p>Next you will arrive at a page like this:</p>
																<img class="small" src="img/createSite/2-hit-upload.png">

																<p>Hit upload and navigate to the directory that you put our index.html file in to upload it:</p>
																<img class="small" src="img/createSite/3-upload-from-computer.png">

																<p>Now that the file is ready hit upload once more:</p>
																<img class="small" src="img/createSite/4-hit-start-upload.png">

																<p>Next, in order to make your file accessible, <strong>you need to right-click on it and hit make public</strong>:</p>
																<img class="small" src="img/createSite/5-hit-make-public.png">

																<p>Finally, to retreive the url, right click and hit <strong>properties</strong>:</p>
																<img class="small" src="img/createSite/6-hit-properties.png">


																<p>And now the url of your index file is visible in the right-hand side of the screen, next to "link":</p>
																<img class="small" src="img/createSite/7-get-link.png">

																<p>That's the first URL that we need to register our app. Let's enter it now.</p>
																<img class="small" src="img/enterWebsiteOfApp.png">

																<br><br><button class="btn" onclick="$('#section-6').animatescroll({scrollSpeed:2000,easing:'easeOutElastic'});">Next: Creating the Redirect URI</button><br/><br/>

                        </div>
											</div>

                        <div id="section-6">
                            <div class="content-wrapper w60 disp_inl_blk">
                                <h1>Creating the Redirect URI</h1>
                                                <p>Now it's time to create the redirect URI.</p>
                                                <p>This is a live file which will be contacted by SoundCloud's API, so that it can then send an <strong>authentication token</strong> back to our application. Once received, our application will be able to use this user token via <strong>callback functions</strong>. We'll go over that last.</p>
																<p>Navigate to the folder on your computer that the index.html file is saved in and create a new html file.
																	In this example it will be called callback.html.

																	In callback.html, copy or copy/paste this code:
																	<div class="element-demo">
																		<p>
																			<xmp><!DOCTYPE html></xmp>
																			<xmp>	<html>	</xmp>
																			<xmp>	<head>	</xmp>
																				<xmp> <meta charset="UTF-8">	</xmp>
																				<xmp>	<title>Callback</title> </xmp>
																				<xmp>	</head>	</xmp>
																				<xmp>	<body onload="window.setTimeout(opener.SC.connectCallback, 1);"></xmp>
																							<xmp> <p> </xmp>
																								<xmp>	This page should close soon </xmp>
																							<xmp>	</p>	</xmp>
																					<xmp>	</body>	</xmp>
																				<xmp>	</html>	</xmp>


																		</p>

																	</div>
																	<p>Now save the file and <strong>upload callback.html to the same bucket</strong> as you uploaded index.html too, and <strong>don't forget to also make this file public.</strong> </p>
																	<p>	Just like you did with index.html, right click and hit "properties" to <strong>grab the url. </strong>It should be the same as the last url except that index.html should be replaced with callback.html.</p>
																	<p>Now paste that url into your app at <a href="www.soundcloud.you.apps">soundcloud.you.apps</a> and <strong>hit "Save app:"</strong>:</p>
																	<img class="small" src="img/save-callback-uri.png">

																	<br><br><button class="btn" onclick="$('#section-7').animatescroll({scrollSpeed:2000,easing:'easeOutBounce'});">Next: Adding the Javascript</button><br/><br/>
															</div>
                            </div>

														<div id="section-7">
																<div class="content-wrapper w70 disp_inl_blk">
																		<h1>Adding the Javascript</h1>
																		<p>Finally, we're going to add some javascript to our index file that will <strong>use SoundCloud's HTTP API</strong>
																			in order to <strong>prompt the user to connect their soundcloud account to our web app</strong> via a pop-up window.
																			Add this javascript to index.html just before the closing <xmp></body></xmp> tag, replacing <small><strong>YOUR_CLIENT_ID</strong></strong> and <strong>http://example.com/callback</strong> with the proper credentials (instructions on how to do this further down):</p>

<pre><code class="language-javascript">
		<xmp><script src="https://connect.soundcloud.com/sdk/sdk-3.0.0.js"></script></xmp>
																			<xmp>	<script>
        SC.initialize({
          client_id: 'YOUR_CLIENT_ID',
          redirect_uri: 'http://example.com/callback'
      });

      // initiate auth popup
      SC.connect().then(function() {
          return SC.get('/me');
      }).then(function(me) {
          alert('Hello, ' + me.username);
      });
      </script>
		</xmp>
		</code>
	</pre>

    <p> On the first line we gain access to the SoundCloud API, allowing us to access all of the functions and object types in <a href="https://connect.soundcloud.com/sdk/sdk-3.0.0.js">this file</a>. 'SC' is a type of object that exists in the SoundCloud API, which we link to as a javascript source on the first line.
    If the credentials are valid than SC.connect() will initialize a connection to the user by contacting the redirect uri. If the redirect uri is valid than a <strong>Promise object</strong> is returned.
    The next word, <strong>then</strong>, refers to the successful return of that <strong>Promise.</strong> If the connection is made and the promise is fulfilled, a request for the user (in the form of <code>SC.get('/me')</code>) is made... and finally the <strong>next</strong> then refers to the fulfillment of <strong>that</strong> Promise, upon success of which it will alert, "Hello, [username]!"
    </p>
    
    <p>
    If the callback.html page <strong>does not close soon</strong> after and show the "hello" alert, there was probably a problem with the call-back.
    </p>
    
    <p>
    If an <strong> "invalid uri"</strong> window pops up instead of a log-in window, there was probably a problem with authentication.
    </p>


<p><small>YOUR_CLIENT_ID</small> should be replaced with <strong>the string of letters and numbers next to "client id" in your app</strong>. A client id serves a similar purpose to an API key: it prevents people from abusing the system by spamming it with requests, and in this case it adds security as well.<p>
		<p>http://example.com/callback should be replaced with <strong>the live url to your callback file.</strong></p>

		<p>Hopefully you have now saved them <a href="www.soundcloud.you.apps">where you registered your app:</a>
			<img class="small" src="img/theseCreds.png">
			<p>Once you've done that, hit save and then <strong>re-upoad index.html to your S3 bucket</strong> (don't forget to <strong>make it public again!</strong>).</p>

			<p>  Now, assuming all has gone well, and you turn off your pop-up blocker, when you enter your web-page you should be greeted by this:</p>
			<img class="small" src="img/popup-signin.png">

			<p>Your web app is now all set to connect to the SoundCloud acccounts of visiting users! There are many more things you could choose to do with this API,
      from allowing users to upload music to their SoundCloud accounts or play their music from your web app. Now that you've gotten started, check the documentation
    at <a href=https://developers.soundcloud.com/>developers.soundcloud.com</a> to see what else you can do!</p>

		<h2>Thank you for doing my tutorial!</h2>
		<p> &emsp; -Colleen </span>
																</div>
                            <div class='content-wrapper w30 fr'>
                                <a onclick="$('body').animatescroll();" class='ptr fr'><small>Go to Top</small></a>
                            </div>
                        </div>
                </div>
								<script src="https://connect.soundcloud.com/sdk/sdk-3.0.0.js"></script>
	</body>
</html>
